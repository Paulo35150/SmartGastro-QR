
<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <title>SmartGastro QR – Demo-Version</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <style>
    * { box-sizing: border-box; }

    :root {
      --primary: #1a73e8;
      --primary-dark: #1553a5;
      --bg: #f5f5f7;
      --card-bg: #ffffff;
      --accent-green: #009246;  /* Itália :) */
      --accent-red: #ce2b37;
      --radius-lg: 18px;
      --radius-md: 12px;
      --shadow-soft: 0 4px 14px rgba(0,0,0,0.08);
      --text-main: #222;
      --text-muted: #555;
      --border-light: #e2e2e6;
    }

    body {
      margin: 0;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Arial, sans-serif;
      background: var(--bg);
      color: var(--text-main);
    }

    a { color: var(--primary-dark); }

    .page {
      max-width: 980px;
      margin: 0 auto;
      padding: 10px 10px 60px;
    }

    /* HEADER */
    header {
      background: linear-gradient(120deg, #ffffff 0%, #e3f0ff 40%, #ffffff 100%);
      border-radius: 0 0 var(--radius-lg) var(--radius-lg);
      box-shadow: 0 3px 18px rgba(0,0,0,0.12);
      padding: 14px 12px 16px;
      margin-bottom: 14px;
      position: sticky;
      top: 0;
      z-index: 20;
    }

    .header-inner {
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .logo-wrap {
      flex: 0 0 auto;
      width: 70px;
    }

    .logo-wrap img {
      width: 100%;
      height: auto;
      display: block;
      border-radius: 16px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.15);
    }

    .header-text {
      flex: 1;
      min-width: 0;
    }

    .header-title {
      font-size: 1.5rem;
      font-weight: 700;
      margin: 0 0 4px;
      color: #111;
    }

    .header-subtitle {
      font-size: 0.9rem;
      color: var(--text-muted);
      margin: 0;
    }

    /* Italian ribbon */
    .flag-strip {
      height: 4px;
      border-radius: 0 0 var(--radius-lg) var(--radius-lg);
      background: linear-gradient(90deg, var(--accent-green) 0%, #ffffff 50%, var(--accent-red) 100%);
      margin-top: 8px;
    }

    /* LANGUAGE BAR */
    .lang-bar {
      display: flex;
      flex-wrap: wrap;
      gap: 4px;
      margin-top: 8px;
    }

    .lang-btn {
      border: 1px solid #d0d0d5;
      background: #ffffff;
      padding: 4px 10px;
      border-radius: 999px;
      font-size: 0.75rem;
      cursor: pointer;
    }

    .lang-btn.active {
      background: var(--primary);
      color: #fff;
      border-color: var(--primary);
    }

    /* MAIN CARDS */
    .card {
      background: var(--card-bg);
      border-radius: var(--radius-lg);
      box-shadow: var(--shadow-soft);
      padding: 16px;
      margin-top: 14px;
    }

    h2 {
      margin-top: 0;
      font-size: 1.2rem;
    }

    .two-col {
      display: grid;
      grid-template-columns: 1.2fr 1fr;
      gap: 16px;
    }

    @media (max-width: 720px) {
      .two-col {
        grid-template-columns: 1fr;
      }
      header { border-radius: 0 0 14px 14px; }
      .page { padding: 6px 6px 50px; }
    }

    ul.checklist {
      padding-left: 1.1rem;
      margin: 0.4rem 0 0.5rem;
      color: var(--text-muted);
      font-size: 0.9rem;
    }

    ul.checklist li::marker { content: "✔ "; }

    .steps {
      font-size: 0.9rem;
      color: var(--text-muted);
      padding-left: 1.1rem;
    }

    /* VIDEO */
    .video-card h2 { margin-bottom: 8px; }

    .video-wrapper {
      width: 100%;
      max-width: 480px;
      margin: 0 auto;
      border-radius: var(--radius-lg);
      overflow: hidden;
      box-shadow: var(--shadow-soft);
      background: #000;
    }

    .video-wrapper video {
      width: 100%;
      height: auto;
      display: block;
    }

    /* DEMO ORDER */
    .demo-header-row {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      align-items: center;
      margin-bottom: 8px;
    }

    .demo-header-row input[type="number"],
    .demo-header-row input[type="text"] {
      padding: 6px 8px;
      border-radius: 10px;
      border: 1px solid var(--border-light);
      font-size: 0.9rem;
    }

    .badge-demo {
      font-size: 0.75rem;
      background: #ffe6b5;
      padding: 3px 8px;
      border-radius: 999px;
      color: #6d4c00;
    }

    .items-list {
      display: flex;
      flex-direction: column;
      gap: 10px;
    }

    .item-card {
      border-radius: var(--radius-md);
      border: 1px solid #e3e3ea;
      padding: 10px;
      background: #ffffff;
    }

    .item-top {
      display: flex;
      justify-content: space-between;
      gap: 10px;
      margin-bottom: 4px;
    }

    .item-name {
      font-weight: 600;
      font-size: 0.95rem;
    }

    .item-price {
      font-weight: 700;
      font-size: 0.95rem;
      color: var(--accent-green);
    }

    .item-row {
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
      margin-top: 4px;
    }

    .item-row label {
      font-size: 0.8rem;
      color: var(--text-muted);
    }

    .item-row input[type="number"],
    .item-row select {
      padding: 5px 6px;
      border-radius: 8px;
      border: 1px solid #d5d5dd;
      font-size: 0.8rem;
      min-width: 70px;
    }

    .item-row select.flavours {
      min-width: 140px;
    }

    .btn {
      border: none;
      border-radius: 999px;
      padding: 7px 14px;
      font-size: 0.85rem;
      cursor: pointer;
      font-weight: 600;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 4px;
    }

    .btn-add {
      background: #1b8f3a;
      color: #fff;
    }

    .btn-add:hover { background: #15722f; }

    .btn-small {
      padding: 5px 10px;
      font-size: 0.78rem;
    }

    .btn-outline {
      background: #fff;
      border: 1px solid var(--border-light);
      color: var(--text-main);
    }

    .btn-outline:hover {
      border-color: var(--primary);
      color: var(--primary-dark);
    }

    .order-summary {
      margin-top: 10px;
      border-top: 1px dashed #d3d3dd;
      padding-top: 8px;
      font-size: 0.9rem;
    }

    .order-line {
      display: flex;
      justify-content: space-between;
      gap: 8px;
      margin-bottom: 3px;
    }

    .order-total {
      font-weight: 700;
      margin-top: 4px;
    }

    .demo-note {
      font-size: 0.78rem;
      color: var(--text-muted);
      margin-top: 4px;
    }

    .order-actions {
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
      margin-top: 8px;
    }

    .btn-wa {
      background: #25D366;
      color: #fff;
    }

    .btn-wa:hover { background: #1CAF54; }

    .btn-clear {
      background: #e53935;
      color: #fff;
    }

    /* CONTACT */
    .contact-grid {
      display: grid;
      grid-template-columns: 1.2fr 1fr;
      gap: 16px;
    }
    @media (max-width: 720px) {
      .contact-grid { grid-template-columns: 1fr; }
    }

    .contact-field {
      display: flex;
      flex-direction: column;
      gap: 4px;
      margin-bottom: 6px;
      font-size: 0.85rem;
    }

    .contact-field input,
    .contact-field textarea {
      border-radius: 10px;
      border: 1px solid var(--border-light);
      padding: 7px 9px;
      font-size: 0.85rem;
      resize: vertical;
    }

    .contact-info {
      font-size: 0.9rem;
      color: var(--text-muted);
    }

    /* FOOTER LEGAL */
    footer {
      margin-top: 18px;
      font-size: 0.8rem;
      color: var(--text-muted);
    }

    .footer-cards {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 12px;
    }

    @media (max-width: 720px) {
      .footer-cards { grid-template-columns: 1fr; }
    }

    .footer-card {
      background: var(--card-bg);
      border-radius: var(--radius-lg);
      box-shadow: var(--shadow-soft);
      padding: 12px;
    }

    .footer-card h3 {
      margin-top: 0;
      font-size: 1rem;
    }

    .legal-lang-select {
      margin-bottom: 6px;
      font-size: 0.8rem;
      padding: 3px 6px;
      border-radius: 999px;
      border: 1px solid var(--border-light);
    }

    .legal-text { font-size: 0.8rem; }
    .legal-text p { margin: 4px 0; }

    .footer-bottom {
      margin-top: 10px;
      text-align: center;
      font-size: 0.78rem;
      color: #777;
    }
  </style>
</head>
<body>
<div class="page">

  <!-- HEADER -->
  <header>
    <div class="header-inner">
      <div class="logo-wrap">
        <!-- logótipo que carregaste no GitHub -->
        <img src="IMG-20251119-WA0011.jpg" alt="SmartGastro QR Logo">
      </div>
      <div class="header-text">
        <h1 class="header-title">SmartGastro QR</h1>
        <p class="header-subtitle">
          Digitale Bestellungen für Gastronomie – einfach per QR-Code am Tisch.
        </p>

        <div class="lang-bar">
          <button class="lang-btn active" data-lang-global="de">Deutsch</button>
          <button class="lang-btn" data-lang-global="en">English</button>
          <button class="lang-btn" data-lang-global="pt">Português</button>
          <button class="lang-btn" data-lang-global="it">Italiano</button>
          <button class="lang-btn" data-lang-global="es">Español</button>
          <button class="lang-btn" data-lang-global="fr">Français</button>
        </div>
      </div>
    </div>
    <div class="flag-strip"></div>
  </header>

  <!-- INTRO + VIDEO -->
  <div class="card">
    <div class="two-col">
      <div>
        <h2>Was ist SmartGastro QR?</h2>
        <p id="about-text">
          SmartGastro QR ist ein flexibles, modernes Bestellsystem für Gastronomie-Betriebe.
          Gäste scannen den QR-Code am Tisch, wählen Produkte aus der digitalen Speisekarte
          und schicken ihre Bestellung direkt an Ihr Service-Team – ohne App, ohne Registrierung.
        </p>

        <ul class="checklist">
          <li>Funktioniert auf Handy, Tablet und PC</li>
          <li>Kein Login, keine App-Installation notwendig</li>
          <li>Ideal für Eiscafés, Restaurants, Bars und Cafés</li>
          <li>Schnellerer Service – weniger Wartezeiten</li>
          <li>Sorten, Sahne, Extras und Portionen frei wählbar</li>
          <li>Optional: Weiterleitung an WhatsApp oder Küchendrucker</li>
        </ul>

        <p><strong>Wie funktioniert das System?</strong></p>
        <ol class="steps">
          <li>Gast scannt den QR-Code am Tisch mit der Handy-Kamera.</li>
          <li>Die digitale Speisekarte öffnet sich im Browser.</li>
          <li>Tischnummer wird eingetragen (Pflichtfeld).</li>
          <li>Produkte und Optionen werden ausgewählt.</li>
          <li>Bestellung wird z. B. per WhatsApp an Ihr Team gesendet.</li>
        </ol>
      </div>

      <div class="video-card">
        <h2>Demo-Video – SmartGastro QR in Aktion</h2>
        <div class="video-wrapper">
          <video controls preload="metadata">
            <source src="VID-20251120-WA0002.mp4" type="video/mp4">
            Ihr Browser unterstützt das Video-Tag nicht.
          </video>
        </div>
        <p class="demo-note">
          Dieses Video zeigt ein echtes Beispiel einer digitalen Speisekarte in einem Eiscafé.
        </p>
      </div>
    </div>
  </div>

  <!-- DEMO ORDER -->
  <div class="card" id="demo">
    <div class="demo-header-row">
      <h2 style="margin:0;">Demo-Bestellung (kleiner Auszug aus dem Menü)</h2>
      <span class="badge-demo">Nur Demo – keine echte Bestellung</span>
    </div>
    <p style="font-size:0.85rem;color:var(--text-muted);margin-top:4px;">
      Demo mit einigen Artikeln aus einem Eiscafé: Kinder Portion, Pinocchio und verschiedene Spaghetti-Eis Varianten.
      In der Vollversion werden natürlich alle Becher und Produkte hinterlegt.
    </p>

    <div class="demo-header-row">
      <label>
        Tischnummer:
        <input type="number" id="demoTable" min="1" placeholder="z. B. 4">
      </label>
    </div>

    <div class="items-list" id="itemsList">
      <!-- cards geradas por JavaScript -->
    </div>

    <div class="order-summary" id="orderSummary">
      Noch keine Positionen.
    </div>

    <div class="order-actions">
      <button class="btn btn-wa btn-small" id="btnDemoWhatsApp">
        Per WhatsApp senden (Demo)
      </button>
      <button class="btn btn-clear btn-small" id="btnDemoClear">
        Alles löschen
      </button>
    </div>

    <p class="demo-note">
      Demo-Version: Die Bestellung wird nur als Text aufgebaut. In der echten Version
      wird sie an Ihr Eiscafé / Restaurant gesendet oder mit Ihrem Kassensystem verbunden.
    </p>
  </div>

  <!-- KONTAKT & ANFRAGE -->
  <div class="card" id="kontakt">
    <h2>Interesse an SmartGastro QR?</h2>
    <p style="font-size:0.9rem;color:var(--text-muted);">
      Sie haben ein Eiscafé, Restaurant oder eine Bar und möchten SmartGastro QR testen oder einsetzen?
      Schreiben Sie uns direkt – gerne auch per WhatsApp.
    </p>

    <div class="contact-grid">
      <div>
        <div class="contact-field">
          <label for="cfName">Name / Firma *</label>
          <input id="cfName" type="text" placeholder="Ihr Name oder Firmenname">
        </div>
        <div class="contact-field">
          <label for="cfOrt">Ort / Stadt</label>
          <input id="cfOrt" type="text" placeholder="z. B. Bad Berleburg">
        </div>
        <div class="contact-field">
          <label for="cfTel">Telefon / WhatsApp *</label>
          <input id="cfTel" type="text" placeholder="Ihre Nummer für Rückfragen">
        </div>
        <div class="contact-field">
          <label for="cfMsg">Nachricht *</label>
          <textarea id="cfMsg" rows="4" placeholder="Kurze Beschreibung Ihres Betriebs und was Sie suchen..."></textarea>
        </div>

        <button class="btn btn-wa" id="btnContactWhatsApp">
          Anfrage per WhatsApp senden
        </button>
        <p class="demo-note">
          Beim Klick auf den Button öffnet sich WhatsApp mit einer vorbereiteten Nachricht.
          Sie können den Text vor dem Absenden jederzeit bearbeiten.
        </p>
      </div>

      <div class="contact-info">
        <strong>Direkter Kontakt</strong><br>
        Paulo – SmartGastro QR<br>
        Telefon / WhatsApp: <a href="https://wa.me/4917672809926" target="_blank">+49 176 7280 9926</a><br>
        E-Mail: <a href="mailto:paulo.sanremo@web.de">paulo.sanremo@web.de</a><br><br>

        <p>
          Wir unterstützen Sie bei:
        </p>
        <ul class="checklist" style="font-size:0.85rem;">
          <li>Anpassung an Ihre Speisekarte (Eis, Snacks, Getränke …)</li>
          <li>Einrichtung der QR-Codes für alle Tische</li>
          <li>Optional: Verbindung zu Küchendrucker oder Kasse</li>
          <li>Schulung für Ihr Team (kurze Einführung)</li>
        </ul>
      </div>
    </div>
  </div>

  <!-- FOOTER LEGAL -->
  <footer>
    <div class="footer-cards">
      <!-- Rechtliche Hinweise -->
      <div class="footer-card">
        <h3>Rechtliche Hinweise (Demo)</h3>
        <label>
          Sprache:
          <select class="legal-lang-select" data-target="legal">
            <option value="de">Deutsch</option>
            <option value="en">English</option>
            <option value="pt">Português</option>
            <option value="it">Italiano</option>
            <option value="es">Español</option>
            <option value="fr">Français</option>
          </select>
        </label>

        <div class="legal-text" data-group="legal" data-lang="de">
          <p>Dies ist eine Demo-Version von SmartGastro QR. Sie dient ausschließlich zur
            Präsentation des Funktionsumfangs und ersetzt keine steuerrechtliche oder
            rechtliche Beratung.</p>
          <p>In der echten Produktiv-Version werden alle Verkäufe wie gewohnt über Ihr
            Kassensystem verbucht. Die Anpassung an GoBD, KassenSichV und lokale Vorgaben
            erfolgt in Zusammenarbeit mit Ihrem Steuerberater und/oder Kassenanbieter.</p>
        </div>
        <div class="legal-text" data-group="legal" data-lang="en" hidden>
          <p>This is a demo version of SmartGastro QR. It is for presentation purposes only
            and does not replace tax or legal advice.</p>
          <p>In the live version, all sales are booked via your existing POS system.
            Compliance with local tax and fiscal regulations must be implemented together
            with your tax advisor and POS provider.</p>
        </div>
        <div class="legal-text" data-group="legal" data-lang="pt" hidden>
          <p>Esta é uma versão de demonstração do SmartGastro QR. Serve apenas para
            apresentação e não substitui aconselhamento fiscal ou jurídico.</p>
          <p>Na versão real, todas as vendas são registadas normalmente na sua caixa.
            A adaptação às leis fiscais e obrigações locais deve ser feita em conjunto com
            o seu contabilista e fornecedor de software de faturação.</p>
        </div>
        <div class="legal-text" data-group="legal" data-lang="it" hidden>
          <p>Questa è una versione demo di SmartGastro QR. Serve solo come presentazione e
            non sostituisce la consulenza fiscale o legale.</p>
          <p>Nella versione operativa tutte le vendite vengono registrate tramite il vostro
            sistema di cassa. L’adeguamento alle normative fiscali locali avviene insieme
            al vostro commercialista e al fornitore del registratore di cassa.</p>
        </div>
        <div class="legal-text" data-group="legal" data-lang="es" hidden>
          <p>Esta es una versión de demostración de SmartGastro QR. Solo sirve para
            presentación y no sustituye el asesoramiento fiscal o legal.</p>
          <p>En la versión real todas las ventas se registran a través de su sistema de caja.
            La adaptación a la normativa fiscal local debe realizarse junto con su asesor
            fiscal y proveedor de TPV.</p>
        </div>
        <div class="legal-text" data-group="legal" data-lang="fr" hidden>
          <p>Il s’agit d’une version de démonstration de SmartGastro QR. Elle est fournie à
            titre de présentation et ne remplace pas un conseil fiscal ou juridique.</p>
          <p>Dans la version productive, toutes les ventes sont enregistrées via votre
            système de caisse. L’adaptation aux règles fiscales locales doit être mise en
            place avec votre expert-comptable et votre fournisseur de caisse.</p>
        </div>
      </div>

      <!-- Datenschutz -->
      <div class="footer-card">
        <h3>Datenschutz / Privacy (Demo)</h3>
        <label>
          Sprache:
          <select class="legal-lang-select" data-target="privacy">
            <option value="de">Deutsch</option>
            <option value="en">English</option>
            <option value="pt">Português</option>
            <option value="it">Italiano</option>
            <option value="es">Español</option>
            <option value="fr">Français</option>
          </select>
        </label>

        <div class="legal-text" data-group="privacy" data-lang="de">
          <p>In dieser Demo werden keine personenbezogenen Daten dauerhaft gespeichert.
            Eingegebene Informationen dienen nur zur Simulation einer Bestellung oder
            Anfrage.</p>
          <p>In einer echten Installation werden alle Datenschutzpflichten (z. B. DSGVO,
            Informationspflichten, Auftragsverarbeitung) individuell mit Ihnen abgestimmt.
          </p>
        </div>
        <div class="legal-text" data-group="privacy" data-lang="en" hidden>
          <p>This demo does not store any personal data permanently. Entered information is
            only used to simulate an order or request.</p>
          <p>In a real installation, all privacy obligations (e.g. GDPR information duties,
            data processing agreements) are implemented individually for your business.</p>
        </div>
        <div class="legal-text" data-group="privacy" data-lang="pt" hidden>
          <p>Nesta demo não são guardados dados pessoais de forma permanente. As
            informações inseridas servem apenas para simular um pedido ou contacto.</p>
          <p>Numa instalação real, todas as obrigações de proteção de dados (por exemplo
            RGPD, informações ao cliente e contratos de processamento de dados) são
            adaptadas ao seu negócio.</p>
        </div>
        <div class="legal-text" data-group="privacy" data-lang="it" hidden>
          <p>In questa demo non vengono memorizzati in modo permanente dati personali.
            Le informazioni inserite servono solo per simulare un ordine o una richiesta.</p>
          <p>In un’installazione reale tutti gli obblighi in materia di protezione dei dati
            (ad es. GDPR, informative e contratti di trattamento) vengono adattati alla
            vostra attività.</p>
        </div>
        <div class="legal-text" data-group="privacy" data-lang="es" hidden>
          <p>En esta demo no se guardan datos personales de forma permanente. La
            información introducida solo sirve para simular un pedido o una solicitud.</p>
          <p>En una instalación real, todas las obligaciones de protección de datos
            (por ejemplo RGPD, información al cliente y contratos de tratamiento de datos)
            se adaptan a su negocio.</p>
        </div>
        <div class="legal-text" data-group="privacy" data-lang="fr" hidden>
          <p>Dans cette démo, aucune donnée personnelle n’est stockée de manière
            permanente. Les informations saisies servent uniquement à simuler une commande
            ou une demande.</p>
          <p>Dans une installation réelle, toutes les obligations en matière de protection
            des données (RGPD, informations client, contrats de traitement) sont adaptées
            à votre établissement.</p>
        </div>
      </div>
    </div>

    <div class="footer-bottom">
      © 2025 SmartGastro QR – Demo-Version. Alle Rechte vorbehalten.
    </div>
  </footer>

</div>

<script>
  /* ==== DEMO ARTIKEL ==== */
  const flavours = [
    "Vanille","Stracciatella","Schokolade","Amarena Kirsch",
    "Cookies","Erdbeer","Himbeere","Banane","Zitrone","Mango"
  ];

  const demoItems = [
    { id: 23,  name: "Kinder Portion",       price: 3.50, portion: true },
    { id: 1601,name: "Pinocchio",            price: 5.10, portion: false },
    { id: 50,  name: "Spaghetti Eis",        price: 6.50, portion: false },
    { id: 53,  name: "Spaghetti Erdbeere",   price: 8.90, portion: false },
    { id: 44,  name: "Banana Split",         price: 10.00, portion: false }
  ];

  const order = [];

  function formatPrice(v) {
    return v.toFixed(2).replace('.', ',') + " €";
  }

  function buildDemoCards() {
    const list = document.getElementById('itemsList');
    const flavourOptions = flavours.map(f => `<option value="${f}">${f}</option>`).join('');

    demoItems.forEach(item => {
      const card = document.createElement('div');
      card.className = 'item-card';
      card.dataset.name = item.name;
      card.dataset.price = item.price.toString();
      card.dataset.portion = item.portion ? 'true' : 'false';

      card.innerHTML = `
        <div class="item-top">
          <div class="item-name">${item.id}. ${item.name}</div>
          <div class="item-price">${formatPrice(item.price)}</div>
        </div>
        <div class="item-row">
          <label>
            Menge:
            <input type="number" class="qty" min="1" value="1">
          </label>
          <label>
            Sahne:
            <select class="cream">
              <option value="mit Sahne">mit Sahne${item.portion ? " (+1,20 €)" : ""}</option>
              <option value="ohne Sahne">ohne Sahne</option>
            </select>
          </label>
          <label>
            Sorten:
            <select class="flavours" multiple size="2">
              ${flavourOptions}
            </select>
          </label>
          <button class="btn btn-add btn-small add-demo">Hinzufügen</button>
        </div>
      `;
      list.appendChild(card);
    });

    list.querySelectorAll('.add-demo').forEach(btn => {
      btn.addEventListener('click', () => {
        const card = btn.closest('.item-card');
        const name = card.dataset.name;
        const basePrice = parseFloat(card.dataset.price);
        const isPortion = card.dataset.portion === 'true';

        const qty = parseInt(card.querySelector('.qty').value || '1', 10);
        const cream = card.querySelector('.cream').value;
        const selectedFlavours =
          Array.from(card.querySelector('.flavours').selectedOptions).map(o => o.value);

        let unitPrice = basePrice;
        if (isPortion && cream === 'mit Sahne') {
          unitPrice += 1.20; // Aufpreis für Sahne nur bei Portionen
        }

        const details = [
          cream,
          selectedFlavours.length ? 'Sorten: ' + selectedFlavours.join(', ') : ''
        ].filter(Boolean).join(' | ');

        order.push({
          name,
          qty,
          total: unitPrice * qty,
          details
        });

        updateOrderSummary();
      });
    });
  }

  function updateOrderSummary() {
    const container = document.getElementById('orderSummary');
    if (!order.length) {
      container.textContent = 'Noch keine Positionen.';
      return;
    }

    container.innerHTML = '';
    let total = 0;

    order.forEach(item => {
      total += item.total;
      const row = document.createElement('div');
      row.className = 'order-line';
      row.innerHTML = `
        <div>
          <strong>${item.qty}× ${item.name}</strong>
          ${item.details ? `<br><span style="font-size:0.8rem;color:#666;">${item.details}</span>` : ""}
        </div>
        <div>${formatPrice(item.total)}</div>
      `;
      container.appendChild(row);
    });

    const totalDiv = document.createElement('div');
    totalDiv.className = 'order-total';
    totalDiv.textContent = 'Gesamt (Demo): ' + formatPrice(total);
    container.appendChild(totalDiv);
  }

  document.getElementById('btnDemoClear').addEventListener('click', () => {
    order.length = 0;
    document.getElementById('orderSummary').textContent = 'Noch keine Positionen.';
    document.getElementById('demoTable').value = '';
  });

  document.getElementById('btnDemoWhatsApp').addEventListener('click', () => {
    if (!order.length) {
      alert('Bitte zuerst einige Demo-Artikel hinzufügen.');
      return;
    }
    const table = document.getElementById('demoTable').value || 'Demo-Tisch';
    let text = 'Demo-Bestellung SmartGastro QR%0A';
    text += 'Tisch: ' + table + '%0A%0A';

    let total = 0;
    order.forEach(item => {
      total += item.total;
      text += `${item.qty}x ${item.name} - ${formatPrice(item.total)}`
        + (item.details ? ` (${item.details})` : '') + '%0A';
    });
    text += '%0A Gesamt (Demo): ' + formatPrice(total);

    // Demo: nur anzeigen, nicht zwingend senden
    const url = 'https://wa.me/4917672809926?text=' + text;
    window.open(url, '_blank');
  });

  buildDemoCards();

  /* KONTAKT -> WhatsApp */
  document.getElementById('btnContactWhatsApp').addEventListener('click', () => {
    const name = document.getElementById('cfName').value.trim();
    const ort  = document.getElementById('cfOrt').value.trim();
    const tel  = document.getElementById('cfTel').value.trim();
    const msg  = document.getElementById('cfMsg').value.trim();

    if (!name || !tel || !msg) {
      alert('Bitte Name/Firma, Telefon/WhatsApp und eine Nachricht ausfüllen.');
      return;
    }

    let text = 'Anfrage zu SmartGastro QR%0A%0A';
    text += 'Name / Firma: ' + name + '%0A';
    if (ort) text += 'Ort: ' + ort + '%0A';
    text += 'Telefon / WhatsApp: ' + tel + '%0A%0A';
    text += 'Nachricht:%0A' + msg;

    window.open('https://wa.me/4917672809926?text=' + text, '_blank');
  });

  /* FOOTER LANGUAGE SWITCH (legal & privacy) */
  document.querySelectorAll('.legal-lang-select').forEach(sel => {
    sel.addEventListener('change', () => {
      const target = sel.dataset.target; // "legal" oder "privacy"
      const value  = sel.value;

      document.querySelectorAll(`.legal-text[data-group="${target}"]`).forEach(div => {
        div.hidden = div.dataset.lang !== value;
      });
    });
  });

  // Standard: Deutsch aktiv
  document.querySelectorAll('.legal-text[data-lang="de"]').forEach(div => div.hidden = false);

</script>
</body>
</html>
