<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <title>SmartGastro QR ‚Äì Sistema Completo com Admin</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Sistema completo de pedidos QR para restaurantes com painel de administra√ß√£o integrado">
    
    <style>
        /* RESET & BASE */
        * { 
            box-sizing: border-box; 
            margin: 0;
            padding: 0;
        }
        
        :root {
            --primary: #1a73e8;
            --primary-dark: #1153a5;
            --accent-green: #00a676;
            --accent-gold: #f5b400;
            --danger: #dc3545;
            --success: #28a745;
            --warning: #ffc107;
            --bg: #f7f7fb;
            --card-bg: #ffffff;
            --text-main: #222222;
            --muted: #666666;
            --border: #e0e0e0;
            --radius: 12px;
            --radius-lg: 18px;
            --shadow: 0 4px 12px rgba(0,0,0,0.08);
            --shadow-lg: 0 12px 28px rgba(0,0,0,0.12);
        }
        
        body {
            font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Arial, sans-serif;
            background: var(--bg);
            color: var(--text-main);
            line-height: 1.6;
            min-height: 100vh;
        }
        
        /* LAYOUT */
        .page {
            max-width: 1200px;
            margin: 0 auto;
            padding: 14px 10px 40px;
        }
        
        /* HEADER */
        header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 16px;
            padding: 14px 18px;
            margin-bottom: 20px;
            border-radius: 20px;
            background: linear-gradient(120deg, #0b62d6, #1a73e8, #24a19c);
            color: #ffffff;
            box-shadow: var(--shadow-lg);
            position: relative;
        }
        
        .brand {
            display: flex;
            align-items: center;
            gap: 12px;
        }
        
        .brand-logo {
            width: 48px;
            height: 48px;
            border-radius: 14px;
            background: #ffffff;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 6px 18px rgba(0,0,0,0.18);
            font-weight: bold;
            color: var(--primary);
            font-size: 20px;
        }
        
        .brand-text h1 {
            font-size: 1.45rem;
            margin: 0;
            font-weight: 700;
            letter-spacing: .02em;
        }
        
        .brand-text p {
            margin: 2px 0 0;
            font-size: 0.87rem;
            opacity: 0.93;
        }
        
        /* ADMIN ACCESS */
        .admin-access {
            position: absolute;
            top: 14px;
            right: 18px;
        }
        
        .btn-admin {
            background: rgba(255,255,255,0.9);
            color: var(--primary-dark);
            border: none;
            border-radius: 8px;
            padding: 8px 16px;
            font-size: 0.85rem;
            font-weight: 600;
            cursor: pointer;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 6px;
            transition: all 0.3s ease;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        }
        
        .btn-admin:hover {
            background: #ffffff;
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(0,0,0,0.2);
        }
        
        /* LANGUAGE SWITCHER */
        .lang-switch {
            display: flex;
            flex-wrap: wrap;
            gap: 6px;
            justify-content: flex-end;
            margin-top: 40px;
        }
        
        .lang-btn {
            border: none;
            border-radius: 999px;
            padding: 6px 10px;
            font-size: 0.8rem;
            cursor: pointer;
            background: rgba(255,255,255,0.18);
            color: #ffffff;
            backdrop-filter: blur(8px);
            transition: all 0.3s ease;
        }
        
        .lang-btn.active {
            background: #ffffff;
            color: var(--primary-dark);
            font-weight: 600;
        }
        
        .lang-btn:hover:not(.active) {
            background: rgba(255,255,255,0.25);
        }
        
        /* HERO SECTION */
        .hero {
            display: grid;
            grid-template-columns: minmax(0, 1.18fr) minmax(0, 1fr);
            gap: 18px;
            margin-bottom: 26px;
        }
        
        .hero-left,
        .hero-right {
            background: rgba(255,255,255,0.92);
            border-radius: var(--radius-lg);
            box-shadow: var(--shadow-lg);
            padding: 20px 20px 22px;
        }
        
        .hero-left h2 {
            margin-top: 0;
            font-size: 1.5rem;
            color: var(--primary-dark);
            margin-bottom: 10px;
        }
        
        .hero-left p {
            margin: 4px 0 10px;
            line-height: 1.5;
            color: var(--muted);
        }
        
        /* DEMO BADGE */
        .badge-demo {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 8px 12px;
            border-radius: 999px;
            background: #fff8e1;
            color: #8a6a00;
            font-size: 0.8rem;
            margin: 10px 0;
            border: 1px solid #ffecb3;
        }
        
        .badge-dot {
            width: 7px;
            height: 7px;
            border-radius: 50%;
            background: var(--accent-gold);
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.5; }
            100% { opacity: 1; }
        }
        
        /* BENEFITS LIST */
        .benefits {
            list-style: none;
            padding-left: 0;
            margin: 12px 0 16px;
        }
        
        .benefits li {
            margin: 8px 0;
            padding-left: 28px;
            position: relative;
            font-size: 0.95rem;
        }
        
        .benefits li::before {
            content: "‚úì";
            position: absolute;
            left: 0;
            top: 0;
            font-size: 1.1rem;
            font-weight: bold;
            color: var(--accent-green);
        }
        
        .section-title {
            margin: 18px 0 10px;
            font-size: 1.1rem;
            font-weight: 600;
            color: var(--primary-dark);
            padding-bottom: 5px;
            border-bottom: 2px solid #f0f0f0;
        }
        
        .steps {
            list-style: decimal;
            padding-left: 20px;
            margin: 10px 0 0;
            font-size: 0.95rem;
        }
        
        .steps li {
            margin-bottom: 8px;
            padding-left: 5px;
        }
        
        /* LICENSE SECTION */
        .license-box {
            margin: 25px 0;
            padding: 20px;
            border-radius: var(--radius);
            border: 1px solid var(--border);
            background: linear-gradient(135deg, #f8f9fa 0%, #ffffff 100%);
            box-shadow: var(--shadow);
            position: relative;
            overflow: hidden;
        }
        
        .license-box::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, var(--primary), var(--accent-green));
        }
        
        .license-box h2 {
            margin: 0 0 10px;
            font-size: 1.4rem;
            color: var(--primary-dark);
        }
        
        .license-features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 10px;
            margin: 15px 0;
        }
        
        .license-feature {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 0.9rem;
        }
        
        .license-feature::before {
            content: "‚úÖ";
            font-size: 0.9rem;
        }
        
        .price-tag {
            display: flex;
            align-items: baseline;
            gap: 8px;
            margin: 15px 0;
        }
        
        .price {
            font-size: 2.2rem;
            font-weight: 700;
            color: var(--primary-dark);
        }
        
        .price-period {
            font-size: 0.9rem;
            color: var(--muted);
        }
        
        /* PAYPAL BUTTON */
        #paypal-button-container {
            margin: 20px 0;
            min-height: 50px;
        }
        
        /* SUCCESS/ERROR MESSAGES */
        .message-box {
            padding: 12px 16px;
            border-radius: var(--radius);
            font-size: 0.9rem;
            margin: 10px 0;
            display: none;
        }
        
        .message-success {
            background: #d1fae5;
            border: 1px solid #10b981;
            color: #065f46;
        }
        
        .message-error {
            background: #fee2e2;
            border: 1px solid #ef4444;
            color: #991b1b;
        }
        
        /* PHONE FRAME FOR VIDEO */
        .phone-frame {
            width: 100%;
            max-width: 340px;
            margin: 20px auto;
            padding: 10px 10px 16px;
            border-radius: 30px;
            background: radial-gradient(circle at top, #ffffff, #e0ecff);
            box-shadow: 0 20px 40px rgba(0,0,0,0.28);
            position: relative;
        }
        
        .phone-notch {
            width: 60%;
            height: 8px;
            border-radius: 0 0 14px 14px;
            background: #d0d4dc;
            margin: 0 auto 8px;
        }
        
        .phone-video {
            border-radius: 22px;
            overflow: hidden;
            background: #000;
        }
        
        .phone-video video {
            width: 100%;
            display: block;
        }
        
        /* BOTTOM SECTIONS */
        .bottom-sections {
            margin-top: 26px;
            display: grid;
            grid-template-columns: minmax(0, 1.1fr) minmax(0, 0.9fr);
            gap: 18px;
        }
        
        .card {
            background: rgba(255,255,255,0.95);
            border-radius: var(--radius-lg);
            padding: 18px 18px 20px;
            box-shadow: var(--shadow-lg);
        }
        
        .card h3 {
            margin-top: 0;
            margin-bottom: 12px;
            font-size: 1.05rem;
            color: var(--primary-dark);
        }
        
        .card p {
            margin: 8px 0;
            font-size: 0.9rem;
            color: var(--muted);
        }
        
        .card ul {
            margin: 8px 0 0;
            padding-left: 20px;
            font-size: 0.9rem;
        }
        
        .card ul li {
            margin-bottom: 6px;
            color: var(--muted);
        }
        
        /* ADMIN DEMO PREVIEW */
        .admin-demo {
            margin: 20px 0;
            border: 1px solid var(--border);
            border-radius: var(--radius);
            overflow: hidden;
            background: #f8fafc;
        }
        
        .admin-demo-header {
            background: var(--primary);
            color: white;
            padding: 12px 16px;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .admin-demo-content {
            padding: 16px;
            display: grid;
            grid-template-columns: 200px 1fr;
            gap: 16px;
        }
        
        .admin-sidebar {
            background: #1e293b;
            border-radius: var(--radius);
            padding: 16px;
            color: white;
        }
        
        .admin-menu-item {
            padding: 10px;
            margin: 5px 0;
            border-radius: 6px;
            cursor: pointer;
            transition: background 0.3s ease;
        }
        
        .admin-menu-item:hover {
            background: #334155;
        }
        
        .admin-menu-item.active {
            background: var(--primary);
        }
        
        .admin-panel {
            background: white;
            border-radius: var(--radius);
            padding: 16px;
            box-shadow: var(--shadow);
        }
        
        .admin-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 12px;
            margin-bottom: 20px;
        }
        
        .admin-stat {
            background: #f8fafc;
            padding: 12px;
            border-radius: var(--radius);
            border-left: 4px solid var(--primary);
        }
        
        .admin-stat .label {
            font-size: 0.8rem;
            color: var(--muted);
        }
        
        .admin-stat .value {
            font-size: 1.2rem;
            font-weight: 700;
            color: var(--primary-dark);
        }
        
        /* CONTACT FORM */
        .contact-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin: 15px 0;
        }
        
        .contact-item-label {
            font-size: 0.85rem;
            font-weight: 600;
            color: var(--text-main);
        }
        
        .contact-item-value {
            font-size: 0.9rem;
        }
        
        .contact-item-value a {
            color: var(--primary-dark);
            text-decoration: none;
        }
        
        .contact-item-value a:hover {
            text-decoration: underline;
        }
        
        .contact-form {
            margin-top: 15px;
            display: grid;
            grid-template-columns: 1fr;
            gap: 10px;
        }
        
        .contact-form input,
        .contact-form textarea {
            width: 100%;
            border-radius: 10px;
            border: 1px solid #d0d3e2;
            padding: 10px 12px;
            font-size: 0.9rem;
            font-family: inherit;
            transition: border 0.3s ease;
        }
        
        .contact-form input:focus,
        .contact-form textarea:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(26, 115, 232, 0.1);
        }
        
        .contact-form textarea {
            min-height: 80px;
            resize: vertical;
        }
        
        /* BUTTONS */
        .btn {
            border: none;
            border-radius: 999px;
            padding: 10px 18px;
            font-size: 0.9rem;
            font-weight: 600;
            cursor: pointer;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            transition: all 0.3s ease;
        }
        
        .btn-whatsapp {
            background: #25D366;
            color: #ffffff;
            box-shadow: 0 6px 14px rgba(37,211,102,0.45);
        }
        
        .btn-whatsapp:hover {
            background: #1da851;
            transform: translateY(-2px);
            box-shadow: 0 8px 18px rgba(37,211,102,0.55);
        }
        
        .btn-outline {
            background: transparent;
            border: 2px solid #c0c4d6;
            color: #444;
        }
        
        .btn-outline:hover {
            border-color: var(--primary);
            color: var(--primary);
        }
        
        .btn-primary {
            background: var(--primary);
            color: white;
            box-shadow: var(--shadow);
        }
        
        .btn-primary:hover {
            background: var(--primary-dark);
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(26, 115, 232, 0.3);
        }
        
        /* TRIAL SECTION */
        .trial-section {
            text-align: center;
            padding: 25px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: var(--radius-lg);
            color: white;
            margin: 25px 0;
        }
        
        .trial-section h3 {
            color: white;
            margin-bottom: 10px;
        }
        
        .trial-section p {
            color: rgba(255,255,255,0.9);
            margin-bottom: 20px;
        }
        
        .btn-trial {
            background: white;
            color: #764ba2;
            padding: 12px 30px;
            font-size: 1rem;
            font-weight: 700;
            border-radius: 50px;
            border: none;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 8px 25px rgba(0,0,0,0.2);
        }
        
        .btn-trial:hover {
            transform: translateY(-3px) scale(1.05);
            box-shadow: 0 12px 30px rgba(0,0,0,0.25);
        }
        
        /* FOOTER */
        footer {
            margin-top: 40px;
            text-align: center;
            font-size: 0.78rem;
            color: var(--muted);
            padding: 20px 0;
            border-top: 1px solid var(--border);
        }
        
        footer a {
            color: var(--primary-dark);
            text-decoration: none;
            margin: 0 3px;
        }
        
        footer a:hover {
            text-decoration: underline;
        }
        
        .footer-links {
            margin-top: 10px;
        }
        
        /* LOADING STATES */
        .loading {
            position: relative;
            color: transparent !important;
        }
        
        .loading::after {
            content: '';
            position: absolute;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255,255,255,0.3);
            border-top-color: white;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        /* RESPONSIVE */
        @media (max-width: 960px) {
            .hero {
                grid-template-columns: 1fr;
            }
            
            .hero-right {
                order: -1;
            }
            
            .bottom-sections {
                grid-template-columns: 1fr;
            }
            
            .admin-demo-content {
                grid-template-columns: 1fr;
            }
            
            .admin-sidebar {
                order: 2;
            }
        }
        
        @media (max-width: 768px) {
            header {
                flex-direction: column;
                align-items: flex-start;
                padding: 12px;
            }
            
            .admin-access {
                position: static;
                margin-top: 10px;
                width: 100%;
            }
            
            .btn-admin {
                width: 100%;
                justify-content: center;
            }
            
            .lang-switch {
                justify-content: flex-start;
                margin-top: 15px;
                width: 100%;
            }
            
            .contact-grid {
                grid-template-columns: 1fr;
            }
            
            .license-features {
                grid-template-columns: 1fr;
            }
        }
        
        @media (max-width: 480px) {
            .hero-left, .hero-right {
                padding: 16px 14px 18px;
            }
            
            .phone-frame {
                max-width: 280px;
            }
            
            .btn {
                width: 100%;
            }
            
            .contact-form {
                gap: 8px;
            }
        }
        
        /* UTILITY CLASSES */
        .hidden {
            display: none !important;
        }
        
        .text-center {
            text-align: center;
        }
        
        .mt-10 { margin-top: 10px; }
        .mt-20 { margin-top: 20px; }
        .mb-10 { margin-bottom: 10px; }
        .mb-20 { margin-bottom: 20px; }
        
        /* QR CODE PREVIEW */
        .qr-preview {
            text-align: center;
            padding: 20px;
            background: white;
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            margin: 15px 0;
        }
        
        .qr-code {
            width: 150px;
            height: 150px;
            background: #f0f0f0;
            margin: 0 auto 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            color: var(--primary);
            border-radius: 8px;
        }
    </style>
</head>
<body>
<div class="page">

    <!-- HEADER -->
    <header>
        <div class="brand">
            <div class="brand-logo">SG</div>
            <div class="brand-text">
                <h1 data-i18n-key="brandTitle">SmartGastro QR</h1>
                <p data-i18n-key="brandTagline">
                    Sistema completo de pedidos QR + Painel de Administra√ß√£o
                </p>
            </div>
        </div>

        <div class="admin-access">
            <a href="#admin-demo" class="btn-admin">
                üîê Ver Demo do Admin
            </a>
        </div>

        <div class="lang-switch">
            <button class="lang-btn active" data-lang="de">Deutsch</button>
            <button class="lang-btn" data-lang="en">English</button>
            <button class="lang-btn" data-lang="pt">Portugu√™s</button>
            <button class="lang-btn" data-lang="it">Italiano</button>
            <button class="lang-btn" data-lang="es">Espa√±ol</button>
            <button class="lang-btn" data-lang="fr">Fran√ßais</button>
        </div>
    </header>

    <!-- HERO SECTION -->
    <section class="hero">
        <!-- LEFT COLUMN -->
        <div class="hero-left">
            <h2 data-i18n-key="whatTitle">Sistema Completo SmartGastro QR</h2>
            <p data-i18n-key="whatIntro">
                Sistema completo de pedidos via QR Code com painel de administra√ß√£o integrado. 
                Inclui gest√£o de clientes, vendas, licen√ßas, emails autom√°ticos e muito mais.
            </p>

            <div class="badge-demo">
                <span class="badge-dot"></span>
                <span data-i18n-key="demoBadge">
                    üî• Demonstra√ß√£o completa do sistema funcionando
                </span>
            </div>

            <!-- TRIAL SECTION -->
            <div class="trial-section">
                <h3>Experimente 14 Dias Gratuitamente</h3>
                <p>Teste todas as funcionalidades sem compromisso</p>
                <button id="startTrialBtn" class="btn-trial">
                    üöÄ Iniciar Teste Gratuito
                </button>
            </div>

            <!-- LICENSE BOX -->
            <div class="license-box">
                <h2>Licen√ßa Completa SmartGastro QR</h2>
                <p>Inclui <strong>2 aplica√ß√µes</strong>:</p>
                
                <div class="license-features">
                    <div class="license-feature">Sistema de pedidos QR</div>
                    <div class="license-feature">Painel de administra√ß√£o</div>
                    <div class="license-feature">Gest√£o de clientes</div>
                    <div class="license-feature">Controle de vendas</div>
                    <div class="license-feature">Emails autom√°ticos</div>
                    <div class="license-feature">Backup autom√°tico</div>
                    <div class="license-feature">Exporta√ß√£o CSV/JSON</div>
                    <div class="license-feature">Suporte multil√≠ngue</div>
                </div>

                <div class="price-tag">
                    <span class="price">99 ‚Ç¨</span>
                    <span class="price-period">/ ano ‚Ä¢ 1 estabelecimento</span>
                </div>

                <!-- LICENSE CODE FROM URL -->
                <div id="license-line" class="hidden">
                    <strong>Licen√ßa Ativa:</strong> 
                    <span id="license-code"></span>
                    <span id="license-status"></span>
                </div>

                <!-- PAYPAL BUTTON -->
                <div id="paypal-button-container"></div>

                <!-- MESSAGES -->
                <div id="success-box" class="message-box message-success">
                    ‚úÖ Pagamento conclu√≠do! Subscri√ß√£o criada com sucesso.
                    ID: <strong id="sub-id"></strong><br>
                    Envie este ID para <a href="mailto:paulo.sanremo@web.de">paulo.sanremo@web.de</a>
                </div>

                <div id="error-box" class="message-box message-error">
                    ‚ö† Erro ao processar pagamento. Tente novamente ou contacte-nos.
                </div>

                <p class="mt-10" style="font-size:0.85rem;color:var(--muted);">
                    Pagamento seguro via PayPal ‚Ä¢ Subscri√ß√£o anual renov√°vel
                </p>
            </div>

            <h3 class="section-title" data-i18n-key="benefitsTitle">
                ‚úÖ Funcionalidades Inclu√≠das:
            </h3>
            <ul class="benefits">
                <li data-i18n-key="benefit1">‚úÖ Painel de administra√ß√£o completo</li>
                <li data-i18n-key="benefit2">‚úÖ Sistema de login seguro</li>
                <li data-i18n-key="benefit3">‚úÖ Gera√ß√£o autom√°tica de licen√ßas</li>
                <li data-i18n-key="benefit4">‚úÖ Email autom√°tico de boas-vindas</li>
                <li data-i18n-key="benefit5">‚úÖ Gest√£o de clientes e vendas</li>
                <li data-i18n-key="benefit6">‚úÖ Exporta√ß√£o de dados (CSV/JSON)</li>
                <li data-i18n-key="benefit7">‚úÖ Backup e restore autom√°tico</li>
                <li data-i18n-key="benefit8">‚úÖ Templates de email edit√°veis</li>
                <li data-i18n-key="benefit9">‚úÖ Interface 100% responsiva</li>
                <li data-i18n-key="benefit10">‚úÖ Suporte em 6 idiomas</li>
            </ul>

            <!-- QR CODE PREVIEW -->
            <div class="qr-preview">
                <h4>QR Code de Exemplo</h4>
                <div class="qr-code">
                    <div style="text-align:center;">
                        <div style="font-size:3rem;">üì±</div>
                        <div style="font-size:0.8rem;">Scan Me</div>
                    </div>
                </div>
                <p>Os clientes escaneiam e acedem ao menu digital</p>
            </div>

            <h3 class="section-title" data-i18n-key="howTitle">
                üìã Como funciona:
            </h3>
            <ol class="steps">
                <li data-i18n-key="step1">Cliente escaneia QR Code na mesa</li>
                <li data-i18n-key="step2">Menu digital abre no telem√≥vel</li>
                <li data-i18n-key="step3">Seleciona produtos e op√ß√µes</li>
                <li data-i18n-key="step4">Pedido vai direto para a cozinha/bar</li>
                <li data-i18n-key="step5">Staff processa no painel admin</li>
                <li data-i18n-key="step6">Dados s√£o salvos automaticamente</li>
            </ol>
        </div>

        <!-- RIGHT COLUMN -->
        <div class="hero-right">
            <div class="hero-right-header">
                <div class="hero-right-title" data-i18n-key="videoTitle">
                    üé• Demonstra√ß√£o em V√≠deo
                </div>
                <div class="hero-right-tag" data-i18n-key="videoTag">
                    Sistema em funcionamento real
                </div>
            </div>

            <!-- VIDEO DEMO -->
            <div class="phone-frame">
                <div class="phone-notch"></div>
                <div class="phone-video">
                    <!-- Video placeholder with emoji animation -->
                    <div style="padding:40px;text-align:center;color:white;background:#000;">
                        <div style="font-size:3rem;margin-bottom:10px;">üçî üçï ü•§</div>
                        <div style="font-size:1.2rem;margin-bottom:10px;">Pedido QR Demo</div>
                        <div style="opacity:0.8;">Cliente: T12 ‚Ä¢ Valor: ‚Ç¨24,50</div>
                        <div style="margin-top:20px;font-size:0.9rem;opacity:0.6;">
                            üé¨ V√≠deo de demonstra√ß√£o
                        </div>
                    </div>
                </div>
                <div class="phone-caption" data-i18n-key="videoCaption">
                    Interface do cliente e processamento no admin
                </div>
            </div>

            <!-- ADMIN DEMO PREVIEW -->
            <div class="admin-demo" id="admin-demo">
                <div class="admin-demo-header">
                    <span>üîß</span> Painel de Administra√ß√£o Demo
                </div>
                <div class="admin-demo-content">
                    <div class="admin-sidebar">
                        <div class="admin-menu-item active">üìä Dashboard</div>
                        <div class="admin-menu-item">üë• Clientes</div>
                        <div class="admin-menu-item">üí∞ Vendas</div>
                        <div class="admin-menu-item">üìã Pedidos</div>
                        <div class="admin-menu-item">üìß Emails</div>
                        <div class="admin-menu-item">‚öô Configura√ß√µes</div>
                        <div class="admin-menu-item">üîê Licen√ßas</div>
                        <div class="admin-menu-item">üíæ Backup</div>
                    </div>
                    <div class="admin-panel">
                        <div class="admin-stats">
                            <div class="admin-stat">
                                <div class="label">Vendas Hoje</div>
                                <div class="value">‚Ç¨ 1.245,80</div>
                            </div>
                            <div class="admin-stat">
                                <div class="label">Pedidos Ativos</div>
                                <div class="value">12</div>
                            </div>
                            <div class="admin-stat">
                                <div class="label">Clientes</div>
                                <div class="value">342</div>
                            </div>
                            <div class="admin-stat">
                                <div class="label">Licen√ßa</div>
                                <div class="value">Ativa</div>
                            </div>
                        </div>
                        
                        <div style="margin-top:20px;">
                            <h4 style="margin-bottom:10px;">üìà √öltimos Pedidos</h4>
                            <div style="background:#f8f9fa;padding:10px;border-radius:8px;font-size:0.9rem;">
                                <div style="display:flex;justify-content:space-between;padding:8px;border-bottom:1px solid #eee;">
                                    <span>T12 ‚Ä¢ 2 Pizzas</span>
                                    <span>‚Ç¨ 24,50</span>
                                </div>
                                <div style="display:flex;justify-content:space-between;padding:8px;border-bottom:1px solid #eee;">
                                    <span>T05 ‚Ä¢ 3 Hamburgers</span>
                                    <span>‚Ç¨ 32,00</span>
                                </div>
                                <div style="display:flex;justify-content:space-between;padding:8px;">
                                    <span>T08 ‚Ä¢ 4 Bebidas</span>
                                    <span>‚Ç¨ 16,80</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- QUICK ACTIONS -->
            <div class="card mt-20">
                <h3>‚ö° Acesso R√°pido</h3>
                <div style="display:grid;grid-template-columns:1fr 1fr;gap:10px;margin-top:15px;">
                    <button class="btn btn-primary" onclick="showAdminDemo()">
                        üìä Ver Admin
                    </button>
                    <button class="btn btn-outline" onclick="generateLicense()">
                        üîë Gerar Licen√ßa
                    </button>
                    <button class="btn btn-outline" onclick="exportData()">
                        üì• Exportar Dados
                    </button>
                    <button class="btn btn-outline" onclick="sendTestEmail()">
                        üìß Testar Email
                    </button>
                </div>
            </div>
        </div>
    </section>

    <!-- BOTTOM SECTIONS -->
    <section class="bottom-sections">
        <!-- LEGAL/PRIVACY -->
        <div class="card" id="legal">
            <h3 data-i18n-key="legalTitle">‚öñÔ∏è Informa√ß√µes Legais</h3>
            <p data-i18n-key="legalText1">
                O SmartGastro QR √© uma ferramenta de organiza√ß√£o interna. 
                N√£o substitui sistemas de caixa registadora nem contabilidade fiscal.
            </p>
            
            <h4 class="section-title">üìù Responsabilidades:</h4>
            <ul>
                <li data-i18n-key="legalPoint1">Todos os pedidos devem ser registados na caixa</li>
                <li data-i18n-key="legalPoint2">Dados servem apenas para organiza√ß√£o interna</li>
                <li data-i18n-key="legalPoint3">Responsabilidade fiscal √© do estabelecimento</li>
            </ul>

            <h4 class="section-title">üîí Privacidade (Demo):</h4>
            <p data-i18n-key="privacyText1">
                Nesta demonstra√ß√£o p√∫blica, nenhum dado pessoal √© armazenado permanentemente.
                Em produ√ß√£o, o sistema √© configurado conforme RGPD/lei local.
            </p>
        </div>

        <!-- CONTACT -->
        <div class="card" id="kontakt">
            <h3 data-i18n-key="contactTitle">üìû Contacto & Suporte</h3>
            <p data-i18n-key="contactLead">
                Sistema testado em ambiente real. Contacte-nos para uma demonstra√ß√£o personalizada.
            </p>

            <div class="contact-grid">
                <div>
                    <div class="contact-item-label">Telefone / WhatsApp:</div>
                    <div class="contact-item-value">
                        <a href="tel:+4917672809926">+49 176 7280 9926</a>
                    </div>
                </div>
                <div>
                    <div class="contact-item-label">E-mail:</div>
                    <div class="contact-item-value">
                        <a href="mailto:paulo.sanremo@web.de">paulo.sanremo@web.de</a>
                    </div>
                </div>
            </div>

            <h4 class="section-title">üì© Enviar Pedido:</h4>
            <form class="contact-form" id="contactForm">
                <input type="text" id="cfName" placeholder="Nome" data-i18n-placeholder="cfName" required>
                <input type="email" id="cfEmail" placeholder="E-mail" data-i18n-placeholder="cfEmail" required>
                <input type="text" id="cfBusiness" placeholder="Estabelecimento" data-i18n-placeholder="cfBusiness">
                <textarea id="cfMessage" placeholder="Mensagem..." data-i18n-placeholder="cfMessage" rows="3"></textarea>
                
                <div style="display:flex;gap:10px;flex-wrap:wrap;">
                    <button type="button" class="btn btn-whatsapp" id="cfWhatsAppBtn">
                        üü¢ WhatsApp
                    </button>
                    <button type="button" class="btn btn-primary" id="cfEmailBtn">
                        üìß E-mail
                    </button>
                    <button type="button" class="btn btn-outline" id="cfTestBtn">
                        üß™ Testar Sistema
                    </button>
                </div>
            </form>
        </div>
    </section>

    <!-- SUPPORT TICKET SYSTEM -->
    <div class="card mt-20">
        <h3>üé´ Sistema de Suporte</h3>
        <div style="display:grid;grid-template-columns:1fr 1fr;gap:20px;margin-top:15px;">
            <div>
                <h4>Abrir Ticket</h4>
                <select id="ticketType" style="width:100%;padding:8px;border-radius:8px;margin:10px 0;">
                    <option value="bug">üêõ Reportar Bug</option>
                    <option value="feature">üí° Sugerir Funcionalidade</option>
                    <option value="support">üîß Suporte T√©cnico</option>
                    <option value="license">üîë Problema com Licen√ßa</option>
                </select>
                <textarea id="ticketDetails" placeholder="Descreva o problema..." 
                         style="width:100%;height:100px;padding:10px;border-radius:8px;border:1px solid #ddd;margin:10px 0;"></textarea>
                <button class="btn btn-primary" onclick="submitTicket()">Enviar Ticket</button>
            </div>
            <div>
                <h4>üìû Suporte Imediato</h4>
                <p style="font-size:0.9rem;color:var(--muted);margin:10px 0;">
                    Para urg√™ncias ou problemas cr√≠ticos:
                </p>
                <div style="background:#f8f9fa;padding:15px;border-radius:8px;">
                    <p>üì± <strong>WhatsApp:</strong> resposta em 15 min</p>
                    <p>üìß <strong>E-mail:</strong> resposta em 2 horas</p>
                    <p>üîß <strong>Remoto:</strong> assist√™ncia TeamViewer/AnyDesk</p>
                </div>
            </div>
        </div>
    </div>

    <footer>
        <div data-i18n-key="footerLine">
            ¬© 2025 SmartGastro QR ‚Äì Sistema completo de gest√£o para restaurantes
        </div>
        <div class="footer-links">
            <a href="#legal" data-i18n-key="footerLegal">Informa√ß√µes Legais</a> ¬∑
            <a href="#privacy" data-i18n-key="footerPrivacy">Privacidade</a> ¬∑
            <a href="#kontakt" data-i18n-key="footerContact">Contacto</a> ¬∑
            <a href="#admin-demo" data-i18n-key="footerAdmin">Admin Demo</a>
        </div>
    </footer>
</div>

<!-- ALL JAVASCRIPT IN ONE FILE -->
<script>
// ==================== INTERNATIONALIZATION ====================
const i18n = {
    de: {
        brandTitle: "SmartGastro QR",
        brandTagline: "Komplettes QR-Bestellsystem mit Admin-Panel",
        whatTitle: "Komplettes SmartGastro QR System",
        whatIntro: "Vollst√§ndiges QR-Code Bestellsystem mit integriertem Admin-Panel. Inklusive Kundenverwaltung, Verkaufskontrolle, Lizenzierung und automatischen E-Mails.",
        demoBadge: "üî• Vollst√§ndige Systemdemonstration",
        benefitsTitle: "‚úÖ Enthaltene Funktionen:",
        benefit1: "‚úÖ Vollst√§ndiges Admin-Panel",
        benefit2: "‚úÖ Sicheres Login-System",
        benefit3: "‚úÖ Automatische Lizenzgenerierung",
        benefit4: "‚úÖ Automatische Willkommens-E-Mail",
        benefit5: "‚úÖ Kunden- und Verkaufsverwaltung",
        benefit6: "‚úÖ Datenexport (CSV/JSON)",
        benefit7: "‚úÖ Automatische Backup & Wiederherstellung",
        benefit8: "‚úÖ Bearbeitbare E-Mail-Vorlagen",
        benefit9: "‚úÖ 100% responsive Interface",
        benefit10: "‚úÖ Unterst√ºtzung f√ºr 6 Sprachen",
        howTitle: "üìã So funktioniert es:",
        step1: "Kunde scannt QR-Code am Tisch",
        step2: "Digitale Speisekarte √∂ffnet auf dem Handy",
        step3: "Produkte und Optionen ausw√§hlen",
        step4: "Bestellung geht direkt an K√ºche/Bar",
        step5: "Personal bearbeitet im Admin-Panel",
        step6: "Daten werden automatisch gespeichert",
        videoTitle: "üé• Video-Demonstration",
        videoTag: "System in realer Umgebung",
        videoCaption: "Kundeninterface und Admin-Verarbeitung",
        legalTitle: "‚öñÔ∏è Rechtliche Hinweise",
        legalText1: "SmartGastro QR ist ein internes Organisationstool. Es ersetzt keine Kassensysteme oder steuerliche Buchhaltung.",
        legalPoint1: "Alle Bestellungen m√ºssen an der Kasse registriert werden",
        legalPoint2: "Daten dienen nur der internen Organisation",
        legalPoint3: "Steuerliche Verantwortung liegt beim Betrieb",
        privacyText1: "In dieser √∂ffentlichen Demo werden keine pers√∂nlichen Daten dauerhaft gespeichert. In der Produktion wird das System gem√§√ü DSGVO/lokalem Recht konfiguriert.",
        contactTitle: "üìû Kontakt & Support",
        contactLead: "System in realer Umgebung getestet. Kontaktieren Sie uns f√ºr eine individuelle Demo.",
        footerLine: "¬© 2025 SmartGastro QR ‚Äì Komplettes Restaurant-Management-System",
        footerLegal: "Rechtliche Hinweise",
        footerPrivacy: "Datenschutz",
        footerContact: "Kontakt",
        footerAdmin: "Admin Demo",
        cfName: "Name",
        cfEmail: "E-Mail",
        cfBusiness: "Betrieb",
        cfMessage: "Nachricht..."
    },
    en: {
        brandTitle: "SmartGastro QR",
        brandTagline: "Complete QR ordering system with admin panel",
        whatTitle: "Complete SmartGastro QR System",
        whatIntro: "Complete QR code ordering system with integrated admin panel. Includes customer management, sales control, licensing and automatic emails.",
        demoBadge: "üî• Complete system demonstration",
        benefitsTitle: "‚úÖ Included Features:",
        benefit1: "‚úÖ Complete admin panel",
        benefit2: "‚úÖ Secure login system",
        benefit3: "‚úÖ Automatic license generation",
        benefit4: "‚úÖ Automatic welcome email",
        benefit5: "‚úÖ Customer and sales management",
        benefit6: "‚úÖ Data export (CSV/JSON)",
        benefit7: "‚úÖ Automatic backup & restore",
        benefit8: "‚úÖ Editable email templates",
        benefit9: "‚úÖ 100% responsive interface",
        benefit10: "‚úÖ Support for 6 languages",
        howTitle: "üìã How it works:",
        step1: "Customer scans QR code at table",
        step2: "Digital menu opens on phone",
        step3: "Select products and options",
        step4: "Order goes directly to kitchen/bar",
        step5: "Staff processes in admin panel",
        step6: "Data is automatically saved",
        videoTitle: "üé• Video Demonstration",
        videoTag: "System in real environment",
        videoCaption: "Customer interface and admin processing",
        legalTitle: "‚öñÔ∏è Legal Information",
        legalText1: "SmartGastro QR is an internal organization tool. It does not replace cash register systems or tax accounting.",
        legalPoint1: "All orders must be registered at the cash register",
        legalPoint2: "Data is for internal organization only",
        legalPoint3: "Tax responsibility lies with the establishment",
        privacyText1: "In this public demo, no personal data is stored permanently. In production, the system is configured according to GDPR/local law.",
        contactTitle: "üìû Contact & Support",
        contactLead: "System tested in real environment. Contact us for a personalized demo.",
        footerLine: "¬© 2025 SmartGastro QR ‚Äì Complete restaurant management system",
        footerLegal: "Legal Information",
        footerPrivacy: "Privacy",
        footerContact: "Contact",
        footerAdmin: "Admin Demo",
        cfName: "Name",
        cfEmail: "Email",
        cfBusiness: "Business",
        cfMessage: "Message..."
    },
    pt: {
        brandTitle: "SmartGastro QR",
        brandTagline: "Sistema completo de pedidos QR com painel admin",
        whatTitle: "Sistema Completo SmartGastro QR",
        whatIntro: "Sistema completo de pedidos via QR Code com painel de administra√ß√£o integrado. Inclui gest√£o de clientes, controle de vendas, licenciamento e emails autom√°ticos.",
        demoBadge: "üî• Demonstra√ß√£o completa do sistema",
        benefitsTitle: "‚úÖ Funcionalidades Inclu√≠das:",
        benefit1: "‚úÖ Painel de administra√ß√£o completo",
        benefit2: "‚úÖ Sistema de login seguro",
        benefit3: "‚úÖ Gera√ß√£o autom√°tica de licen√ßas",
        benefit4: "‚úÖ Email autom√°tico de boas-vindas",
        benefit5: "‚úÖ Gest√£o de clientes e vendas",
        benefit6: "‚úÖ Exporta√ß√£o de dados (CSV/JSON)",
        benefit7: "‚úÖ Backup e restore autom√°tico",
        benefit8: "‚úÖ Templates de email edit√°veis",
        benefit9: "‚úÖ Interface 100% responsiva",
        benefit10: "‚úÖ Suporte em 6 idiomas",
        howTitle: "üìã Como funciona:",
        step1: "Cliente escaneia QR Code na mesa",
        step2: "Menu digital abre no telem√≥vel",
        step3: "Seleciona produtos e op√ß√µes",
        step4: "Pedido vai direto para cozinha/bar",
        step5: "Equipa processa no painel admin",
        step6: "Dados s√£o salvos automaticamente",
        videoTitle: "üé• Demonstra√ß√£o em V√≠deo",
        videoTag: "Sistema em funcionamento real",
        videoCaption: "Interface do cliente e processamento no admin",
        legalTitle: "‚öñÔ∏è Informa√ß√µes Legais",
        legalText1: "O SmartGastro QR √© uma ferramenta de organiza√ß√£o interna. N√£o substitui sistemas de caixa nem contabilidade fiscal.",
        legalPoint1: "Todos os pedidos devem ser registados na caixa",
        legalPoint2: "Dados servem apenas para organiza√ß√£o interna",
        legalPoint3: "Responsabilidade fiscal √© do estabelecimento",
        privacyText1: "Nesta demonstra√ß√£o p√∫blica, nenhum dado pessoal √© armazenado permanentemente. Em produ√ß√£o, o sistema √© configurado conforme RGPD/lei local.",
        contactTitle: "üìû Contacto & Suporte",
        contactLead: "Sistema testado em ambiente real. Contacte-nos para uma demonstra√ß√£o personalizada.",
        footerLine: "¬© 2025 SmartGastro QR ‚Äì Sistema completo de gest√£o para restaurantes",
        footerLegal: "Informa√ß√µes Legais",
        footerPrivacy: "Privacidade",
        footerContact: "Contacto",
        footerAdmin: "Admin Demo",
        cfName: "Nome",
        cfEmail: "E-mail",
        cfBusiness: "Estabelecimento",
        cfMessage: "Mensagem..."
    },
    it: {
        brandTitle: "SmartGastro QR",
        brandTagline: "Sistema completo di ordinazione QR con pannello admin",
        whatTitle: "Sistema Completo SmartGastro QR",
        whatIntro: "Sistema completo di ordinazione tramite QR Code con pannello di amministrazione integrato. Include gestione clienti, controllo vendite, licenze ed email automatiche.",
        demoBadge: "üî• Dimostrazione completa del sistema",
        benefitsTitle: "‚úÖ Funzionalit√† Incluse:",
        benefit1: "‚úÖ Pannello di amministrazione completo",
        benefit2: "‚úÖ Sistema di login sicuro",
        benefit3: "‚úÖ Generazione automatica licenze",
        benefit4: "‚úÖ Email automatica di benvenuto",
        benefit5: "‚úÖ Gestione clienti e vendite",
        benefit6: "‚úÖ Esportazione dati (CSV/JSON)",
        benefit7: "‚úÖ Backup e ripristino automatico",
        benefit8: "‚úÖ Template email modificabili",
        benefit9: "‚úÖ Interfaccia 100% responsive",
        benefit10: "‚úÖ Supporto in 6 lingue",
        howTitle: "üìã Come funziona:",
        step1: "Cliente scansiona QR Code al tavolo",
        step2: "Menu digitale si apre sul telefono",
        step3: "Seleziona prodotti e opzioni",
        step4: "Ordine va direttamente a cucina/bar",
        step5: "Personale elabora nel pannello admin",
        step6: "Dati salvati automaticamente",
        videoTitle: "üé• Dimostrazione Video",
        videoTag: "Sistema in ambiente reale",
        videoCaption: "Interfaccia cliente ed elaborazione admin",
        legalTitle: "‚öñÔ∏è Informazioni Legali",
        legalText1: "SmartGastro QR √® uno strumento di organizzazione interna. Non sostituisce sistemi di cassa o contabilit√† fiscale.",
        legalPoint1: "Tutti gli ordini devono essere registrati in cassa",
        legalPoint2: "Dati solo per organizzazione interna",
        legalPoint3: "Responsabilit√† fiscale √® del locale",
        privacyText1: "In questa demo pubblica, nessun dato personale √® memorizzato permanentemente. In produzione, il sistema √® configurato secondo GDPR/legge locale.",
        contactTitle: "üìû Contatto & Supporto",
        contactLead: "Sistema testato in ambiente reale. Contattaci per una demo personalizzata.",
        footerLine: "¬© 2025 SmartGastro QR ‚Äì Sistema completo di gestione ristoranti",
        footerLegal: "Informazioni Legali",
        footerPrivacy: "Privacy",
        footerContact: "Contatto",
        footerAdmin: "Admin Demo",
        cfName: "Nome",
        cfEmail: "Email",
        cfBusiness: "Locale",
        cfMessage: "Messaggio..."
    }
};

// Apply language
function applyLanguage(lang) {
    const dict = i18n[lang] || i18n.de;
    
    document.querySelectorAll("[data-i18n-key]").forEach(el => {
        const key = el.getAttribute("data-i18n-key");
        if (dict[key]) el.textContent = dict[key];
    });
    
    document.querySelectorAll("[data-i18n-placeholder]").forEach(el => {
        const key = el.getAttribute("data-i18n-placeholder");
        if (dict[key]) el.setAttribute("placeholder", dict[key]);
    });
    
    // Update active language button
    document.querySelectorAll(".lang-btn").forEach(btn => {
        btn.classList.remove("active");
        if (btn.getAttribute("data-lang") === lang) {
            btn.classList.add("active");
        }
    });
}

// Language switcher
document.querySelectorAll(".lang-btn").forEach(btn => {
    btn.addEventListener("click", () => {
        const lang = btn.getAttribute("data-lang");
        applyLanguage(lang);
        localStorage.setItem("preferredLanguage", lang);
    });
});

// ==================== LICENSE MANAGEMENT ====================
function validateLicense(licenseCode) {
    const pattern = /^SG-\d{4,6}$/;
    if (!pattern.test(licenseCode)) {
        console.warn('Formato de licen√ßa inv√°lido:', licenseCode);
        return false;
    }
    
    const licenseLine = document.getElementById("license-line");
    const licenseSpan = document.getElementById("license-code");
    const statusSpan = document.getElementById("license-status");
    
    if (licenseLine && licenseSpan) {
        licenseSpan.textContent = licenseCode;
        licenseLine.classList.remove("hidden");
        
        // Simulate license status
        const status = Math.random() > 0.5 ? "Ativa" : "Expirada";
        const statusColor = status === "Ativa" ? "var(--success)" : "var(--danger)";
        
        if (statusSpan) {
            statusSpan.textContent = ` (${status})`;
            statusSpan.style.color = statusColor;
            statusSpan.style.fontWeight = "bold";
        }
    }
    
    return true;
}

// Check URL for license
const params = new URLSearchParams(window.location.search);
const lic = params.get("lic");
if (lic) {
    validateLicense(lic);
}

// ==================== TRIAL SYSTEM ====================
document.getElementById("startTrialBtn").addEventListener("click", function() {
    const btn = this;
    const originalText = btn.textContent;
    
    btn.classList.add("loading");
    btn.disabled = true;
    
    // Simulate API call
    setTimeout(() => {
        const trialToken = 'TRIAL-' + Date.now() + '-' + Math.random().toString(36).substr(2, 9).toUpperCase();
        
        // Store in localStorage
        localStorage.setItem('smartgastro_trial', JSON.stringify({
            token: trialToken,
            expires: Date.now() + (14 * 24 * 60 * 60 * 1000),
            created: new Date().toISOString(),
            features: ['full_admin', 'qr_orders', 'customer_management', 'email_templates']
        }));
        
        btn.classList.remove("loading");
        btn.disabled = false;
        btn.textContent = "‚úÖ Trial Iniciado!";
        
        // Show success message
        alert(`üéâ Trial iniciado com sucesso!\n\nToken: ${trialToken}\n\nAcesso v√°lido por 14 dias.`);
        
        // Reset button after 3 seconds
        setTimeout(() => {
            btn.textContent = originalText;
        }, 3000);
        
    }, 1500);
});

// ==================== CONTACT FORM ====================
function buildMessage() {
    const name = document.getElementById("cfName").value.trim();
    const email = document.getElementById("cfEmail").value.trim();
    const business = document.getElementById("cfBusiness").value.trim();
    const msg = document.getElementById("cfMessage").value.trim();
    
    let text = "Pedido de Informa√ß√£o - SmartGastro QR%0A%0A";
    if (name) text += "Nome: " + encodeURIComponent(name) + "%0A";
    if (email) text += "E-mail: " + encodeURIComponent(email) + "%0A";
    if (business) text += "Estabelecimento: " + encodeURIComponent(business) + "%0A";
    if (msg) text += "Mensagem: " + encodeURIComponent(msg) + "%0A";
    
    return text;
}

// WhatsApp button
document.getElementById("cfWhatsAppBtn").addEventListener("click", function() {
    const text = buildMessage();
    const url = "https://wa.me/4917672809926?text=" + text;
    window.open(url, "_blank");
});

// Email button
document.getElementById("cfEmailBtn").addEventListener("click", function() {
    const name = document.getElementById("cfName").value.trim();
    const email = document.getElementById("cfEmail").value.trim();
    const business = document.getElementById("cfBusiness").value.trim();
    const msg = document.getElementById("cfMessage").value.trim();
    
    let body = "Pedido de Informa√ß√£o - SmartGastro QR\n\n";
    if (name) body += "Nome: " + name + "\n";
    if (email) body += "E-mail: " + email + "\n";
    if (business) body += "Estabelecimento: " + business + "\n";
    if (msg) body += "Mensagem: " + msg + "\n";
    
    const subject = "Pedido SmartGastro QR";
    const mailto = "mailto:paulo.sanremo@web.de?subject=" +
        encodeURIComponent(subject) +
        "&body=" + encodeURIComponent(body);
    
    window.location.href = mailto;
});

// Test system button
document.getElementById("cfTestBtn").addEventListener("click", function() {
    alert("üß™ Sistema de Teste\n\nEm desenvolvimento: Ser√° implementada uma demo interativa do sistema completo.");
});

// ==================== ADMIN DEMO FUNCTIONS ====================
function showAdminDemo() {
    const demo = document.getElementById("admin-demo");
    demo.scrollIntoView({ behavior: 'smooth' });
    
    // Highlight demo
    demo.style.animation = "none";
    setTimeout(() => {
        demo.style.boxShadow = "0 0 0 3px var(--accent-gold)";
        setTimeout(() => {
            demo.style.boxShadow = "";
        }, 2000);
    }, 10);
}

function generateLicense() {
    const licenseCode = "SG-" + Math.floor(1000 + Math.random() * 9000);
    alert(`üîë Licen√ßa Gerada:\n\n${licenseCode}\n\nC√≥pia para a √°rea de transfer√™ncia.`);
    
    // Copy to clipboard
    navigator.clipboard.writeText(licenseCode).then(() => {
        console.log("License copied to clipboard");
    });
}

function exportData() {
    const data = {
        timestamp: new Date().toISOString(),
        sales: [
            { id: 1, table: "T12", amount: 24.50, items: ["Pizza", "Coke"] },
            { id: 2, table: "T05", amount: 32.00, items: ["Burger x3"] },
            { id: 3, table: "T08", amount: 16.80, items: ["Drinks x4"] }
        ],
        customers: 342,
        license: "Active"
    };
    
    const dataStr = JSON.stringify(data, null, 2);
    const dataUri = 'data:application/json;charset=utf-8,'+ encodeURIComponent(dataStr);
    
    const exportFileDefaultName = `smartgastro-export-${new Date().toISOString().split('T')[0]}.json`;
    
    const linkElement = document.createElement('a');
    linkElement.setAttribute('href', dataUri);
    linkElement.setAttribute('download', exportFileDefaultName);
    linkElement.click();
    
    alert("üì• Dados exportados com sucesso!");
}

function sendTestEmail() {
    alert("üìß Email de teste enviado!\n\nSimula√ß√£o: Email autom√°tico enviado para o administrador.");
}

// ==================== SUPPORT TICKET SYSTEM ====================
function submitTicket() {
    const type = document.getElementById("ticketType").value;
    const details = document.getElementById("ticketDetails").value.trim();
    
    if (!details) {
        alert("Por favor, descreva o problema.");
        return;
    }
    
    const typeIcons = {
        bug: "üêõ",
        feature: "üí°",
        support: "üîß",
        license: "üîë"
    };
    
    const ticketId = "TKT-" + Date.now().toString().slice(-6);
    
    alert(`${typeIcons[type]} Ticket criado!\n\nID: ${ticketId}\n\nIremos responder em breve.`);
    
    // Clear form
    document.getElementById("ticketDetails").value = "";
}

// ==================== PAYPAL INTEGRATION ====================
function initializePayPal() {
    if (typeof paypal === 'undefined') {
        console.warn('PayPal SDK not loaded');
        return;
    }
    
    paypal.Buttons({
        style: {
            shape: 'rect',
            color: 'gold',
            layout: 'vertical',
            label: 'subscribe'
        },
        createSubscription: function(data, actions) {
            return actions.subscription.create({
                plan_id: 'P-5WA45756CL7747454NEXAVJA'
            });
        },
        onApprove: function(data, actions) {
            const subId = data.subscriptionID;
            document.getElementById("sub-id").textContent = subId;
            document.getElementById("success-box").style.display = "block";
            document.getElementById("error-box").style.display = "none";
            
            // Save to localStorage
            localStorage.setItem('paypal_subscription', JSON.stringify({
                id: subId,
                date: new Date().toISOString(),
                status: 'active'
            }));
        },
        onError: function(err) {
            console.error('PayPal error:', err);
            document.getElementById("success-box").style.display = "none";
            document.getElementById("error-box").style.display = "block";
        }
    }).render('#paypal-button-container');
}

// ==================== INITIALIZATION ====================
document.addEventListener('DOMContentLoaded', function() {
    // Set preferred language
    const preferredLang = localStorage.getItem("preferredLanguage") || "pt";
    applyLanguage(preferredLang);
    
    // Check for trial status
    const trialData = localStorage.getItem('smartgastro_trial');
    if (trialData) {
        try {
            const trial = JSON.parse(trialData);
            if (trial.expires > Date.now()) {
                // Trial is active
                const trialBtn = document.getElementById("startTrialBtn");
                trialBtn.textContent = `‚úÖ Trial Ativo (${Math.ceil((trial.expires - Date.now()) / (1000 * 60 * 60 * 24))} dias restantes)`;
                trialBtn.disabled = true;
            }
        } catch (e) {
            console.warn('Invalid trial data');
        }
    }
    
    // Initialize PayPal
    if (document.getElementById("paypal-button-container")) {
        // Load PayPal SDK if not already loaded
        if (typeof paypal === 'undefined') {
            const script = document.createElement('script');
            script.src = 'https://www.paypal.com/sdk/js?client-id=AXNSOvcYdaokv8QFi8lhyhfgsMwzgx5u5NG1yjLW4t7jNQHuyJ0I9ZlM6M_qQ9ptxRzgaw56LgMd47UR&vault=true&intent=subscription';
            script.onload = initializePayPal;
            document.body.appendChild(script);
        } else {
            initializePayPal();
        }
    }
    
    // Form validation
    const contactForm = document.getElementById("contactForm");
    if (contactForm) {
        contactForm.addEventListener("submit", function(e) {
            e.preventDefault();
            const name = document.getElementById("cfName").value.trim();
            const email = document.getElementById("cfEmail").value.trim();
            
            if (!name || !email) {
                alert("Por favor, preencha pelo menos o nome e e-mail.");
                return;
            }
            
            alert("Mensagem enviada com sucesso! Entraremos em contacto em breve.");
            contactForm.reset();
        });
    }
});

// ==================== SESSION MANAGEMENT ====================
let lastActivity = Date.now();
const SESSION_TIMEOUT = 30 * 60 * 1000; // 30 minutes

function resetSessionTimer() {
    lastActivity = Date.now();
}

function checkSession() {
    if (Date.now() - lastActivity > SESSION_TIMEOUT) {
        if (localStorage.getItem('smartgastro_trial')) {
            alert("Sess√£o expirada. Por favor, recarregue a p√°gina.");
        }
    }
}

// Track user activity
document.addEventListener('click', resetSessionTimer);
document.addEventListener('keypress', resetSessionTimer);
document.addEventListener('scroll', resetSessionTimer);

// Check session every minute
setInterval(checkSession, 60000);

// ==================== UTILITY FUNCTIONS ====================
function showNotification(title, body) {
    if ("Notification" in window && Notification.permission === "granted") {
        new Notification(title, { body: body });
    } else if (Notification.permission === "default") {
        Notification.requestPermission();
    }
}

// Request notification permission on interaction
document.addEventListener('click', function() {
    if ("Notification" in window && Notification.permission === "default") {
        Notification.requestPermission();
    }
});

// ==================== EXPORT FUNCTIONS FOR CONSOLE ====================
// Make functions available globally for testing
window.smartGastro = {
    applyLanguage,
    validateLicense,
    showAdminDemo,
    generateLicense,
    exportData,
    sendTestEmail,
    submitTicket
};
</script>

</body>
</html>
